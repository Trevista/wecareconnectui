(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{X3zk:function(t,e,o){"use strict";o.r(e),o.d(e,"LoginModule",function(){return d});var n=o("ofXK"),i=o("3Pt+"),s=o("tyNb"),r=o("fXoL"),c=o("1+kh"),a=o("5eHb");const b=[{path:"",component:(()=>{class t{constructor(t,e,o){this.router=t,this.commonService=e,this.toastr=o,this.isPatient=!1,this.doctors=[],this.patients=[],this.username="",this.password="",this.username="",this.password="",this.doctors=[],this.patients=[]}ngOnInit(){this.getpatients(),this.getDoctors()}checkType(t){this.isPatient=!!t.target.checked}login(t,e){if(localStorage.setItem("auth","true"),localStorage.setItem("patient",this.isPatient.toString()),this.isPatient){let t=this.patients.filter(t=>t.name===this.username&&t.password===this.password);0!==t.length?(localStorage.setItem("id",t[0].id),this.toastr.success("","Login success!"),this.commonService.nextmessage("patientLogin"),this.router.navigate(["/patients/dashboard"])):this.toastr.error("","Login failed!")}else{let t=this.doctors.filter(t=>t.doctor_name===this.username&&t.password===this.password);0!=t.length?(this.toastr.success("","Login success!"),this.commonService.nextmessage("doctorLogin"),localStorage.setItem("id",t[0].id),this.router.navigate(["/doctor/dashboard"])):this.toastr.error("","Login failed!")}}getDoctors(){this.commonService.getDoctors().subscribe(t=>{this.doctors=t})}getpatients(){this.commonService.getpatients().subscribe(t=>{this.patients=t})}}return t.\u0275fac=function(e){return new(e||t)(r.Tb(s.e),r.Tb(c.a),r.Tb(a.b))},t.\u0275cmp=r.Nb({type:t,selectors:[["app-login"]],decls:54,vars:5,consts:[[1,"content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","offset-md-2"],[1,"account-content"],[1,"row","align-items-center","justify-content-center"],[1,"col-md-7","col-lg-6","login-left"],["src","assets/img/login-banner.png","alt","Doccure Login",1,"img-fluid"],[1,"col-md-12","col-lg-6","login-right"],[1,"login-header"],[1,"form-group","form-focus"],["type","text","name","name","id","username",1,"form-control","floating",3,"ngModel","ngModelChange"],[1,"focus-label"],[1,"required"],["type","password","name","password","id","password",1,"form-control","floating",3,"ngModel","ngModelChange"],[1,"custom_check"],["type","checkbox","name","gender_type",3,"ngModel","ngModelChange","click"],[1,"checkmark"],[1,"text-right"],[1,"forgot-link",3,"routerLink"],["type","submit",1,"btn","btn-primary","btn-block","btn-lg","login-btn",3,"click"],[1,"login-or"],[1,"or-line"],[1,"span-or"],[1,"row","form-row","social-login"],[1,"col-6"],["href","javascript:void(0)",1,"btn","btn-facebook","btn-block"],[1,"fab","fa-facebook-f","mr-1"],[1,"btn","btn-google","btn-block"],[1,"fab","fa-google","mr-1"],[1,"text-center","dont-have"],[3,"routerLink"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Zb(1,"div",1),r.Zb(2,"div",2),r.Zb(3,"div",3),r.Zb(4,"div",4),r.Zb(5,"div",5),r.Zb(6,"div",6),r.Ub(7,"img",7),r.Yb(),r.Zb(8,"div",8),r.Zb(9,"div",9),r.Zb(10,"h3"),r.Mc(11,"Login "),r.Zb(12,"span"),r.Mc(13,"Doccure"),r.Yb(),r.Yb(),r.Yb(),r.Zb(14,"form"),r.Zb(15,"div",10),r.Zb(16,"input",11),r.jc("ngModelChange",function(t){return e.username=t}),r.Yb(),r.Zb(17,"label",12),r.Mc(18,"Username"),r.Zb(19,"span",13),r.Mc(20,"*"),r.Yb(),r.Yb(),r.Yb(),r.Zb(21,"div",10),r.Zb(22,"input",14),r.jc("ngModelChange",function(t){return e.password=t}),r.Yb(),r.Zb(23,"label",12),r.Mc(24,"Password"),r.Zb(25,"span",13),r.Mc(26,"*"),r.Yb(),r.Yb(),r.Yb(),r.Zb(27,"div"),r.Zb(28,"label",15),r.Zb(29,"input",16),r.jc("ngModelChange",function(t){return e.isPatient=t})("click",function(t){return e.checkType(t)}),r.Yb(),r.Ub(30,"span",17),r.Mc(31," Patients "),r.Yb(),r.Yb(),r.Zb(32,"div",18),r.Zb(33,"a",19),r.Mc(34,"Forgot Password ?"),r.Yb(),r.Yb(),r.Zb(35,"button",20),r.jc("click",function(){return e.login(e.username,e.password)}),r.Mc(36,"Login"),r.Yb(),r.Zb(37,"div",21),r.Ub(38,"span",22),r.Zb(39,"span",23),r.Mc(40,"or"),r.Yb(),r.Yb(),r.Zb(41,"div",24),r.Zb(42,"div",25),r.Zb(43,"a",26),r.Ub(44,"i",27),r.Mc(45," Login"),r.Yb(),r.Yb(),r.Zb(46,"div",25),r.Zb(47,"a",28),r.Ub(48,"i",29),r.Mc(49," Login"),r.Yb(),r.Yb(),r.Yb(),r.Zb(50,"div",30),r.Mc(51,"Don\u2019t have an account? "),r.Zb(52,"a",31),r.Mc(53,"Register"),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Yb()),2&t&&(r.Gb(16),r.tc("ngModel",e.username),r.Gb(6),r.tc("ngModel",e.password),r.Gb(7),r.tc("ngModel",e.isPatient),r.Gb(4),r.tc("routerLink","/forgot-password"),r.Gb(19),r.tc("routerLink","/Register"))},directives:[i.q,i.l,i.m,i.b,i.k,i.n,i.a,s.h],styles:[".required[_ngcontent-%COMP%]{color:red;padding-left:3px}.content[_ngcontent-%COMP%]{padding-bottom:50px}.form-focus[_ngcontent-%COMP%]   .focus-label[_ngcontent-%COMP%]{font-size:13px}.form-control[_ngcontent-%COMP%]{font-size:14px!important}"]}),t})()}];let l=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({imports:[[s.i.forChild(b)],s.i]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.Rb({type:t}),t.\u0275inj=r.Qb({imports:[[n.b,i.g,l]]}),t})()}}]);