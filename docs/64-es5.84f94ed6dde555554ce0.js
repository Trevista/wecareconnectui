!function(){function t(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[64],{"5rtx":function(n,i,o){"use strict";o.r(i),o.d(i,"AppointmentsModule",function(){return g});var c=o("ofXK"),a=o("tyNb"),r=o("fXoL"),l=o("1+kh"),s=o("K3ix");function b(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",4),r.Zb(1,"div",5),r.Zb(2,"a",6),r.Ub(3,"img",7),r.Yb(),r.Zb(4,"div",8),r.Zb(5,"h3"),r.Zb(6,"a"),r.Mc(7),r.Yb(),r.Yb(),r.Zb(8,"div",9),r.Zb(9,"h5"),r.Ub(10,"i",10),r.Mc(11," 14 Nov 2019, 10.00 AM"),r.Yb(),r.Zb(12,"h5"),r.Ub(13,"i",11),r.Mc(14),r.Yb(),r.Zb(15,"h5"),r.Ub(16,"i",12),r.Mc(17),r.Yb(),r.Zb(18,"h5",13),r.Ub(19,"i",14),r.Mc(20),r.Yb(),r.Yb(),r.Yb(),r.Yb(),r.Zb(21,"div",15),r.Zb(22,"a",16),r.Ub(23,"i",17),r.Mc(24," View "),r.Yb(),r.Zb(25,"a",18),r.jc("click",function(){r.Dc(n);var t=e.$implicit,i=r.mc(),o=r.Ac(3);return i.openModal(o,t)}),r.Ub(26,"i",19),r.Mc(27," Accept "),r.Yb(),r.Zb(28,"a",20),r.jc("click",function(){r.Dc(n);var t=e.$implicit,i=r.mc(),o=r.Ac(5);return i.openModal(o,t)}),r.Ub(29,"i",21),r.Mc(30," Cancel "),r.Yb(),r.Yb(),r.Yb()}if(2&t){var i=e.$implicit;r.Gb(3),r.tc("src",i.img,r.Fc),r.Gb(4),r.Nc(null==i?null:i.name),r.Gb(7),r.Oc(" ",null==i?null:i.address,""),r.Gb(3),r.Oc(" ",i.email,""),r.Gb(3),r.Oc(" ",i.phone,"")}}function u(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",22),r.Zb(1,"h4",23),r.Mc(2,"Accept"),r.Yb(),r.Zb(3,"button",24),r.jc("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Zb(4,"span",25),r.Mc(5,"\xd7"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",26),r.Mc(7," Are you sure want to accept this patient? "),r.Zb(8,"div",27),r.Zb(9,"button",28),r.jc("mouseover",function(){return r.Dc(n),r.mc().btnColor()})("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Mc(10,"Yes"),r.Yb(),r.Zb(11,"button",29),r.jc("mouseover",function(){return r.Dc(n),r.mc().btnColorNo()})("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Mc(12,"No"),r.Yb(),r.Yb(),r.Yb()}}function m(t,e){if(1&t){var n=r.ac();r.Zb(0,"div",22),r.Zb(1,"h4",23),r.Mc(2,"Decline"),r.Yb(),r.Zb(3,"button",24),r.jc("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Zb(4,"span",25),r.Mc(5,"\xd7"),r.Yb(),r.Yb(),r.Yb(),r.Zb(6,"div",26),r.Mc(7," Are you sure want to cancel this patient? "),r.Zb(8,"div",27),r.Zb(9,"button",28),r.jc("mouseover",function(){return r.Dc(n),r.mc().btnColor()})("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Mc(10,"Yes"),r.Yb(),r.Zb(11,"button",29),r.jc("mouseover",function(){return r.Dc(n),r.mc().btnColorNo()})("click",function(){return r.Dc(n),r.mc().modalRef.hide()}),r.Mc(12,"No"),r.Yb(),r.Yb(),r.Yb()}}var p,d,f,h=[{path:"",component:(p=function(){function n(e,i){t(this,n),this.commonService=e,this.modalService=i,this.list=[],this.appointments=[],this.patients=[]}var i,o,c;return i=n,(o=[{key:"ngOnInit",value:function(){this.getPatients(),this.getAppointments(),this.list=this.commonService.getJSON(),this.list=this.list.filter(function(t){return 0===t.status})}},{key:"openModal",value:function(t,e){this.appointmentId=e,this.modalRef=this.modalService.show(t,{class:"modal-sm modal-dialog-centered"})}},{key:"confirm",value:function(t){var e=this;delete this.appointmentId.patients;var n=Object.assign({},this.appointmentId);n.status="accept",this.commonService.updateAppointment(n,n.id).subscribe(function(t){e.modalRef.hide(),e.appointments=e.appointments.filter(function(t){return t.id!=n.id}),e.getPatients(),e.getAppointments()})}},{key:"btnColor",value:function(){document.getElementById("btn-yes").style.backgroundColor="#09e5ab",document.getElementById("btn-yes").style.border="1px solid #09e5ab",document.getElementById("btn-yes").style.color="#fff",document.getElementById("btn-no").style.backgroundColor="#fff",document.getElementById("btn-no").style.border="1px solid #fff",document.getElementById("btn-no").style.color="#000"}},{key:"btnColorNo",value:function(){document.getElementById("btn-no").style.backgroundColor="#09e5ab",document.getElementById("btn-no").style.border="1px solid #09e5ab",document.getElementById("btn-no").style.color="#fff",document.getElementById("btn-yes").style.backgroundColor="#fff",document.getElementById("btn-yes").style.border="1px solid #fff",document.getElementById("btn-yes").style.color="#000"}},{key:"decline",value:function(){var t=this;delete this.appointmentId.patients;var e=Object.assign({},this.appointmentId);e.status="decline",this.commonService.updateAppointment(e,e.id).subscribe(function(n){t.modalRef.hide(),t.appointments=t.appointments.filter(function(t){return t.id!=e.id}),t.getPatients(),t.getAppointments()})}},{key:"getAppointments",value:function(){var t=this;this.commonService.getAppointments().subscribe(function(e){t.appointments=e;var n=t;t.appointments.forEach(function(t){var e=n.patients.filter(function(e){return e.key===t.patient_key});0!=e.length&&(t.patients=e[0])}),t.appointments=t.appointments.filter(function(t){return"active"===t.status})})}},{key:"getPatients",value:function(){var t=this;this.commonService.getpatients().subscribe(function(e){t.patients=e})}}])&&e(i.prototype,o),c&&e(i,c),n}(),p.\u0275fac=function(t){return new(t||p)(r.Tb(l.a),r.Tb(s.a))},p.\u0275cmp=r.Nb({type:p,selectors:[["app-appointments"]],decls:6,vars:1,consts:[[1,"appointments"],["class","appointment-list",4,"ngFor","ngForOf"],["template",""],["Declinetemplate",""],[1,"appointment-list"],[1,"profile-info-widget"],[1,"booking-doc-img"],["alt","User Image",3,"src"],[1,"profile-det-info"],[1,"patient-details"],[1,"far","fa-clock"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"],[1,"mb-0"],[1,"fas","fa-phone"],[1,"appointment-action"],["href","javascript:void(0)","data-toggle","modal","data-target","#appt_details",1,"btn","btn-sm","bg-info-light"],[1,"far","fa-eye"],[1,"btn","btn-sm","bg-success-light",3,"click"],[1,"fas","fa-check"],[1,"btn","btn-sm","bg-danger-light",3,"click"],[1,"fas","fa-times"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[2,"margin-top","25px"],["type","button","id","btn-yes",1,"btn","btn-default",3,"mouseover","click"],["type","button","id","btn-no",1,"btn","btn-primary",3,"mouseover","click"]],template:function(t,e){1&t&&(r.Zb(0,"div",0),r.Kc(1,b,31,5,"div",1),r.Yb(),r.Kc(2,u,13,0,"ng-template",null,2,r.Lc),r.Kc(4,m,13,0,"ng-template",null,3,r.Lc)),2&t&&(r.Gb(1),r.tc("ngForOf",e.patients))},directives:[c.k],styles:["h4.modal-title.pull-left[_ngcontent-%COMP%]{font-size:20px!important;margin-bottom:0!important;line-height:1.5!important}"]}),p)}],v=((f=function e(){t(this,e)}).\u0275fac=function(t){return new(t||f)},f.\u0275mod=r.Rb({type:f}),f.\u0275inj=r.Qb({imports:[[a.i.forChild(h)],a.i]}),f),g=((d=function e(){t(this,e)}).\u0275fac=function(t){return new(t||d)},d.\u0275mod=r.Rb({type:d}),d.\u0275inj=r.Qb({imports:[[c.b,v,s.b.forRoot()]]}),d)}}])}();