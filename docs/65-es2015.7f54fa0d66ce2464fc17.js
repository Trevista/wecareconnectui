(window.webpackJsonp=window.webpackJsonp||[]).push([[65],{"5rtx":function(t,e,n){"use strict";n.r(e),n.d(e,"AppointmentsModule",function(){return d});var i=n("ofXK"),o=n("tyNb"),c=n("fXoL"),s=n("1+kh"),l=n("K3ix");function a(t,e){if(1&t){const t=c.ac();c.Zb(0,"div",4),c.Zb(1,"div",5),c.Zb(2,"a",6),c.Ub(3,"img",7),c.Yb(),c.Zb(4,"div",8),c.Zb(5,"h3"),c.Zb(6,"a"),c.Mc(7),c.Yb(),c.Yb(),c.Zb(8,"div",9),c.Zb(9,"h5"),c.Ub(10,"i",10),c.Mc(11," 14 Nov 2019, 10.00 AM"),c.Yb(),c.Zb(12,"h5"),c.Ub(13,"i",11),c.Mc(14),c.Yb(),c.Zb(15,"h5"),c.Ub(16,"i",12),c.Mc(17),c.Yb(),c.Zb(18,"h5",13),c.Ub(19,"i",14),c.Mc(20),c.Yb(),c.Yb(),c.Yb(),c.Yb(),c.Zb(21,"div",15),c.Zb(22,"a",16),c.Ub(23,"i",17),c.Mc(24," View "),c.Yb(),c.Zb(25,"a",18),c.jc("click",function(){c.Dc(t);const n=e.$implicit,i=c.mc(),o=c.Ac(3);return i.openModal(o,n)}),c.Ub(26,"i",19),c.Mc(27," Accept "),c.Yb(),c.Zb(28,"a",20),c.jc("click",function(){c.Dc(t);const n=e.$implicit,i=c.mc(),o=c.Ac(5);return i.openModal(o,n)}),c.Ub(29,"i",21),c.Mc(30," Cancel "),c.Yb(),c.Yb(),c.Yb()}if(2&t){const t=e.$implicit;c.Gb(3),c.tc("src",t.img,c.Fc),c.Gb(4),c.Nc(null==t?null:t.name),c.Gb(7),c.Oc(" ",null==t?null:t.address,""),c.Gb(3),c.Oc(" ",t.email,""),c.Gb(3),c.Oc(" ",t.phone,"")}}function b(t,e){if(1&t){const t=c.ac();c.Zb(0,"div",22),c.Zb(1,"h4",23),c.Mc(2,"Accept"),c.Yb(),c.Zb(3,"button",24),c.jc("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Zb(4,"span",25),c.Mc(5,"\xd7"),c.Yb(),c.Yb(),c.Yb(),c.Zb(6,"div",26),c.Mc(7," Are you sure want to accept this patient? "),c.Zb(8,"div",27),c.Zb(9,"button",28),c.jc("mouseover",function(){return c.Dc(t),c.mc().btnColor()})("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Mc(10,"Yes"),c.Yb(),c.Zb(11,"button",29),c.jc("mouseover",function(){return c.Dc(t),c.mc().btnColorNo()})("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Mc(12,"No"),c.Yb(),c.Yb(),c.Yb()}}function r(t,e){if(1&t){const t=c.ac();c.Zb(0,"div",22),c.Zb(1,"h4",23),c.Mc(2,"Decline"),c.Yb(),c.Zb(3,"button",24),c.jc("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Zb(4,"span",25),c.Mc(5,"\xd7"),c.Yb(),c.Yb(),c.Yb(),c.Zb(6,"div",26),c.Mc(7," Are you sure want to cancel this patient? "),c.Zb(8,"div",27),c.Zb(9,"button",28),c.jc("mouseover",function(){return c.Dc(t),c.mc().btnColor()})("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Mc(10,"Yes"),c.Yb(),c.Zb(11,"button",29),c.jc("mouseover",function(){return c.Dc(t),c.mc().btnColorNo()})("click",function(){return c.Dc(t),c.mc().modalRef.hide()}),c.Mc(12,"No"),c.Yb(),c.Yb(),c.Yb()}}const m=[{path:"",component:(()=>{class t{constructor(t,e){this.commonService=t,this.modalService=e,this.list=[],this.appointments=[],this.patients=[]}ngOnInit(){this.getPatients(),this.getAppointments(),this.list=this.commonService.getJSON(),this.list=this.list.filter(t=>0===t.status)}openModal(t,e){this.appointmentId=e,this.modalRef=this.modalService.show(t,{class:"modal-sm modal-dialog-centered"})}confirm(t){delete this.appointmentId.patients;let e=Object.assign({},this.appointmentId);e.status="accept",this.commonService.updateAppointment(e,e.id).subscribe(t=>{this.modalRef.hide(),this.appointments=this.appointments.filter(t=>t.id!=e.id),this.getPatients(),this.getAppointments()})}btnColor(){document.getElementById("btn-yes").style.backgroundColor="#09e5ab",document.getElementById("btn-yes").style.border="1px solid #09e5ab",document.getElementById("btn-yes").style.color="#fff",document.getElementById("btn-no").style.backgroundColor="#fff",document.getElementById("btn-no").style.border="1px solid #fff",document.getElementById("btn-no").style.color="#000"}btnColorNo(){document.getElementById("btn-no").style.backgroundColor="#09e5ab",document.getElementById("btn-no").style.border="1px solid #09e5ab",document.getElementById("btn-no").style.color="#fff",document.getElementById("btn-yes").style.backgroundColor="#fff",document.getElementById("btn-yes").style.border="1px solid #fff",document.getElementById("btn-yes").style.color="#000"}decline(){delete this.appointmentId.patients;let t=Object.assign({},this.appointmentId);t.status="decline",this.commonService.updateAppointment(t,t.id).subscribe(e=>{this.modalRef.hide(),this.appointments=this.appointments.filter(e=>e.id!=t.id),this.getPatients(),this.getAppointments()})}getAppointments(){this.commonService.getAppointments().subscribe(t=>{this.appointments=t;let e=this;this.appointments.forEach(t=>{let n=e.patients.filter(e=>e.key===t.patient_key);0!=n.length&&(t.patients=n[0])}),this.appointments=this.appointments.filter(t=>"active"===t.status)})}getPatients(){this.commonService.getpatients().subscribe(t=>{this.patients=t})}}return t.\u0275fac=function(e){return new(e||t)(c.Tb(s.a),c.Tb(l.a))},t.\u0275cmp=c.Nb({type:t,selectors:[["app-appointments"]],decls:6,vars:1,consts:[[1,"appointments"],["class","appointment-list",4,"ngFor","ngForOf"],["template",""],["Declinetemplate",""],[1,"appointment-list"],[1,"profile-info-widget"],[1,"booking-doc-img"],["alt","User Image",3,"src"],[1,"profile-det-info"],[1,"patient-details"],[1,"far","fa-clock"],[1,"fas","fa-map-marker-alt"],[1,"fas","fa-envelope"],[1,"mb-0"],[1,"fas","fa-phone"],[1,"appointment-action"],["href","javascript:void(0)","data-toggle","modal","data-target","#appt_details",1,"btn","btn-sm","bg-info-light"],[1,"far","fa-eye"],[1,"btn","btn-sm","bg-success-light",3,"click"],[1,"fas","fa-check"],[1,"btn","btn-sm","bg-danger-light",3,"click"],[1,"fas","fa-times"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close","pull-right",3,"click"],["aria-hidden","true"],[1,"modal-body","text-center"],[2,"margin-top","25px"],["type","button","id","btn-yes",1,"btn","btn-default",3,"mouseover","click"],["type","button","id","btn-no",1,"btn","btn-primary",3,"mouseover","click"]],template:function(t,e){1&t&&(c.Zb(0,"div",0),c.Kc(1,a,31,5,"div",1),c.Yb(),c.Kc(2,b,13,0,"ng-template",null,2,c.Lc),c.Kc(4,r,13,0,"ng-template",null,3,c.Lc)),2&t&&(c.Gb(1),c.tc("ngForOf",e.patients))},directives:[i.k],styles:["h4.modal-title.pull-left[_ngcontent-%COMP%]{font-size:20px!important;margin-bottom:0!important;line-height:1.5!important}"]}),t})()}];let p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({imports:[[o.i.forChild(m)],o.i]}),t})(),d=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=c.Rb({type:t}),t.\u0275inj=c.Qb({imports:[[i.b,p,l.b.forRoot()]]}),t})()}}]);