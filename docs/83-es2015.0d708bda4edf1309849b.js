(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{"7LPo":function(t,e,i){"use strict";i.r(e),i.d(e,"CheckoutModule",function(){return p});var o=i("ofXK"),b=i("3Pt+"),n=i("tyNb"),a=i("fXoL"),c=i("1+kh"),r=i("5eHb");function l(t,e){if(1&t&&a.Ub(0,"img",62),2&t){const t=a.mc();a.tc("src",null==t.doctorDetails?null:t.doctorDetails.profile,a.Fc)}}const s=function(t){return{id:t}},d=[{path:"",component:(()=>{class t{constructor(t,e,i,o){this.router=t,this.route=e,this.commonService=i,this.toastr=o,this.appointments=[],this.patients=[]}ngOnInit(){this.doctorId=this.route.snapshot.queryParams.id,this.getDoctorsDetails(),this.allPatients(),this.getAppointments()}getDoctorsDetails(){this.doctorId||(this.doctorId=1),this.commonService.getDoctorDetails(this.doctorId).subscribe(t=>{this.doctorDetails=t})}allPatients(){this.commonService.getpatients().subscribe(t=>{this.patients=t})}patientDetails(){let t=localStorage.getItem("id");this.commonService.getPatientDetails(Number(t)).subscribe(t=>{this.patients=t})}getAppointments(){this.commonService.getAppointments().subscribe(t=>{this.appointments=t})}booking(){let t=this.patients.reverse()[0].key+"1",e={id:this.appointments.length+1,doctorName:this.doctorDetails.doctor_name,type:"New patient",speciality:this.doctorDetails.speciality,patient_key:t,Patient_Name:this.firstName+this.lastName,appointment_time:new Date,status:"active",amount:this.doctorDetails.Price};this.commonService.createAppointment(e).subscribe(e=>{this.commonService.createPatient({id:this.patients.length+1,key:t,name:this.firstName+this.lastName,phone:this.phone,email:this.email,paid:this.doctorDetails.Price}).subscribe(t=>{this.allPatients(),this.getAppointments(),this.toastr.success("","Appointment booked successfully!"),this.router.navigate(["/patients/success"])})})}}return t.\u0275fac=function(e){return new(e||t)(a.Tb(n.e),a.Tb(n.a),a.Tb(c.a),a.Tb(r.b))},t.\u0275cmp=a.Nb({type:t,selectors:[["app-checkout"]],decls:152,vars:21,consts:[[1,"content"],[1,"container"],[1,"row"],[1,"col-md-7","col-lg-8"],[1,"card"],[1,"card-body"],[1,"info-widget"],[1,"card-title"],[1,"col-md-6","col-sm-12"],[1,"form-group","card-label"],[1,"required"],["type","text","name","firstname",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","lastname",1,"form-control",3,"ngModel","ngModelChange"],["type","email","name","email",1,"form-control",3,"ngModel","ngModelChange"],["type","text","name","phone",1,"form-control",3,"ngModel","ngModelChange"],[1,"exist-customer"],[3,"routerLink"],[1,"payment-widget"],[1,"payment-list"],[1,"payment-radio","credit-card-option"],[1,"checkmark"],[1,"col-md-6"],["for","card_name"],["id","card_name","type","text",1,"form-control"],["for","card_number"],["id","card_number","placeholder","1234  5678  9876  5432","type","text",1,"form-control"],[1,"col-md-4"],["for","expiry_month"],["id","expiry_month","placeholder","MM","type","text",1,"form-control"],["for","expiry_year"],["id","expiry_year","placeholder","YY","type","text",1,"form-control"],["for","cvv"],["id","cvv","type","text",1,"form-control"],[1,"terms-accept"],[1,"custom-checkbox"],["type","checkbox","id","terms_accept"],["for","terms_accept"],["href","javascript:void(0)"],[1,"submit-section","mt-4"],["type","submit",1,"btn","btn-primary","submit-btn",3,"click"],[1,"col-md-5","col-lg-4"],[1,"card","booking-card"],[1,"card-header"],[1,"booking-doc-info"],[1,"booking-doc-img",3,"routerLink","queryParams"],["alt","User Image",3,"src",4,"ngIf"],[1,"booking-info"],[3,"routerLink","queryParams"],[1,"rating"],[1,"fas","fa-star","filled"],[1,"fas","fa-star"],[1,"d-inline-block","average-rating"],[1,"clinic-details"],[1,"doc-location"],[1,"fas","fa-map-marker-alt"],[1,"booking-summary"],[1,"booking-item-wrap"],[1,"booking-date"],[1,"booking-fee"],[1,"booking-total"],[1,"booking-total-list"],[1,"total-cost"],["alt","User Image",3,"src"]],template:function(t,e){1&t&&(a.Zb(0,"div",0),a.Zb(1,"div",1),a.Zb(2,"div",2),a.Zb(3,"div",3),a.Zb(4,"div",4),a.Zb(5,"div",5),a.Zb(6,"form"),a.Zb(7,"div",6),a.Zb(8,"h4",7),a.Mc(9,"Personal Information"),a.Yb(),a.Zb(10,"div",2),a.Zb(11,"div",8),a.Zb(12,"div",9),a.Zb(13,"label"),a.Mc(14,"First Name"),a.Zb(15,"span",10),a.Mc(16,"*"),a.Yb(),a.Yb(),a.Zb(17,"input",11),a.jc("ngModelChange",function(t){return e.firstName=t}),a.Yb(),a.Yb(),a.Yb(),a.Zb(18,"div",8),a.Zb(19,"div",9),a.Zb(20,"label"),a.Mc(21,"Last Name"),a.Zb(22,"span",10),a.Mc(23,"*"),a.Yb(),a.Yb(),a.Zb(24,"input",12),a.jc("ngModelChange",function(t){return e.lastName=t}),a.Yb(),a.Yb(),a.Yb(),a.Zb(25,"div",8),a.Zb(26,"div",9),a.Zb(27,"label"),a.Mc(28,"Email"),a.Zb(29,"span",10),a.Mc(30,"*"),a.Yb(),a.Yb(),a.Zb(31,"input",13),a.jc("ngModelChange",function(t){return e.email=t}),a.Yb(),a.Yb(),a.Yb(),a.Zb(32,"div",8),a.Zb(33,"div",9),a.Zb(34,"label"),a.Mc(35,"Phone"),a.Zb(36,"span",10),a.Mc(37,"*"),a.Yb(),a.Yb(),a.Zb(38,"input",14),a.jc("ngModelChange",function(t){return e.phone=t}),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(39,"div",15),a.Mc(40,"Existing Customer? "),a.Zb(41,"a",16),a.Mc(42,"Click here to login"),a.Yb(),a.Yb(),a.Yb(),a.Zb(43,"div",17),a.Zb(44,"h4",7),a.Mc(45,"Payment Method"),a.Yb(),a.Zb(46,"div",18),a.Zb(47,"label",19),a.Ub(48,"span",20),a.Mc(49," Credit card "),a.Yb(),a.Zb(50,"div",2),a.Zb(51,"div",21),a.Zb(52,"div",9),a.Zb(53,"label",22),a.Mc(54,"Name on Card"),a.Zb(55,"span",10),a.Mc(56,"*"),a.Yb(),a.Yb(),a.Ub(57,"input",23),a.Yb(),a.Yb(),a.Zb(58,"div",21),a.Zb(59,"div",9),a.Zb(60,"label",24),a.Mc(61,"Card Number"),a.Zb(62,"span",10),a.Mc(63,"*"),a.Yb(),a.Yb(),a.Ub(64,"input",25),a.Yb(),a.Yb(),a.Zb(65,"div",26),a.Zb(66,"div",9),a.Zb(67,"label",27),a.Mc(68,"Expiry Month"),a.Zb(69,"span",10),a.Mc(70,"*"),a.Yb(),a.Yb(),a.Ub(71,"input",28),a.Yb(),a.Yb(),a.Zb(72,"div",26),a.Zb(73,"div",9),a.Zb(74,"label",29),a.Mc(75,"Expiry Year"),a.Zb(76,"span",10),a.Mc(77,"*"),a.Yb(),a.Yb(),a.Ub(78,"input",30),a.Yb(),a.Yb(),a.Zb(79,"div",26),a.Zb(80,"div",9),a.Zb(81,"label",31),a.Mc(82,"CVV"),a.Zb(83,"span",10),a.Mc(84,"*"),a.Yb(),a.Yb(),a.Ub(85,"input",32),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(86,"div",33),a.Zb(87,"div",34),a.Ub(88,"input",35),a.Zb(89,"label",36),a.Mc(90,"\xa0I have read and accept "),a.Zb(91,"a",37),a.Mc(92,"Terms & Conditions"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(93,"div",38),a.Zb(94,"a",39),a.jc("click",function(){return e.booking()}),a.Mc(95,"Confirm and Pay"),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(96,"div",40),a.Zb(97,"div",41),a.Zb(98,"div",42),a.Zb(99,"h4",7),a.Mc(100,"Booking Summary"),a.Yb(),a.Yb(),a.Zb(101,"div",5),a.Zb(102,"div",43),a.Zb(103,"a",44),a.Kc(104,l,1,1,"img",45),a.Yb(),a.Zb(105,"div",46),a.Zb(106,"h4"),a.Zb(107,"a",47),a.Mc(108),a.Yb(),a.Yb(),a.Zb(109,"div",48),a.Ub(110,"i",49),a.Ub(111,"i",49),a.Ub(112,"i",49),a.Ub(113,"i",49),a.Ub(114,"i",50),a.Zb(115,"span",51),a.Mc(116,"35"),a.Yb(),a.Yb(),a.Zb(117,"div",52),a.Zb(118,"p",53),a.Ub(119,"i",54),a.Mc(120),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Zb(121,"div",55),a.Zb(122,"div",56),a.Zb(123,"ul",57),a.Zb(124,"li"),a.Mc(125,"Date "),a.Zb(126,"span"),a.Mc(127,"16 Nov 2019"),a.Yb(),a.Yb(),a.Zb(128,"li"),a.Mc(129,"Time "),a.Zb(130,"span"),a.Mc(131),a.Yb(),a.Yb(),a.Yb(),a.Zb(132,"ul",58),a.Zb(133,"li"),a.Mc(134,"Consulting Fee "),a.Zb(135,"span"),a.Mc(136),a.Yb(),a.Yb(),a.Zb(137,"li"),a.Mc(138,"Booking Fee "),a.Zb(139,"span"),a.Mc(140),a.Yb(),a.Yb(),a.Zb(141,"li"),a.Mc(142,"Video Call "),a.Zb(143,"span"),a.Mc(144),a.Yb(),a.Yb(),a.Yb(),a.Zb(145,"div",59),a.Zb(146,"ul",60),a.Zb(147,"li"),a.Zb(148,"span"),a.Mc(149,"Total"),a.Yb(),a.Zb(150,"span",61),a.Mc(151),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb(),a.Yb()),2&t&&(a.Gb(17),a.tc("ngModel",e.firstName),a.Gb(7),a.tc("ngModel",e.lastName),a.Gb(7),a.tc("ngModel",e.email),a.Gb(7),a.tc("ngModel",e.phone),a.Gb(3),a.tc("routerLink","/login"),a.Gb(62),a.tc("routerLink","/patients/doctor-profile")("queryParams",a.wc(17,s,null==e.doctorDetails?null:e.doctorDetails.id)),a.Gb(1),a.tc("ngIf",null==e.doctorDetails?null:e.doctorDetails.profile),a.Gb(3),a.tc("routerLink","/patients/doctor-profile")("queryParams",a.wc(19,s,null==e.doctorDetails?null:e.doctorDetails.id)),a.Gb(1),a.Nc(null==e.doctorDetails?null:e.doctorDetails.doctor_name),a.Gb(12),a.Oc(" ",null==e.doctorDetails?null:e.doctorDetails.location,""),a.Gb(11),a.Nc(null==e.doctorDetails?null:e.doctorDetails.availableTime),a.Gb(5),a.Nc(null==e.doctorDetails?null:e.doctorDetails.consulting_fees),a.Gb(4),a.Nc(null==e.doctorDetails?null:e.doctorDetails.booking_fees),a.Gb(4),a.Nc(null==e.doctorDetails?null:e.doctorDetails.video_call),a.Gb(7),a.Nc(null==e.doctorDetails?null:e.doctorDetails.Price))},directives:[b.x,b.p,b.q,b.b,b.o,b.r,n.h,o.l],styles:[".required[_ngcontent-%COMP%]{color:red;padding-left:3px}"]}),t})()}];let m=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({imports:[[n.i.forChild(d)],n.i]}),t})(),p=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=a.Rb({type:t}),t.\u0275inj=a.Qb({imports:[[o.b,b.j,m]]}),t})()}}]);